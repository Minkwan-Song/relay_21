# Relay 21  
![_2020-07-31__2 53 51](https://user-images.githubusercontent.com/21030956/89019291-0b656a80-d358-11ea-82f2-f60358dc763c.png)  

[ì„œë¹„ìŠ¤ì¡°ì‚¬](Documents/ProjectResearch.md)  
[ê¸°ëŠ¥ ì„¤ê³„](Documents/ProjectDesign.md)

---
## ì°¸ì—¬ì
1ì£¼ì°¨ : ì •ì¬ëª…, ì •íƒí˜„, ì¡°ê²½í™˜, ì¡°ê¸°í˜„, ì¡°ì†¡ì£¼, ì¡°ìˆ˜ì •, ì¡°ì¸íƒ, ì¡°ì •ë˜, ê¹€ë³‘ì¸, ê¹€ì„í˜¸, ê¹€ìŠ¹ì–¸, ê¹€ì‹ ìš°  
2ì£¼ì°¨ : ì´ì€ì •, ê¶Œì§€ì›…, ë°•ì¬í˜„, í—ˆê²½ì˜, í˜„ê¸°ì—½, ê¹€ê·¼ìˆ˜, ì‹¬ì˜ë¯¼, ì´ì§€ì›, ì¡°ê²½í™˜, ì •íƒí˜„, ì–‘ì–´ì§„  
3ì£¼ì°¨ : ì‹ ë³‘ê¸°, ì¡°ì¸íƒ, ë¬¸ì„±ì£¼, ì„œëª…ë ¬, ìœ ì‹œí˜•, ì •ì¬ëª…, ê¹€ì„í˜¸, ê¹€ì˜ë ¬, ë°±ì¢…ê·¼, ì„ìˆ˜í˜„, ê°•ë¯¼ì„, ì´íƒœê²½  
4ì£¼ì°¨ : ì†¡ë¯¼ê´€, ì–‘ì–´ì§„, ì¡°ìˆ˜ì •, ì¡°ê¸°í˜„, ê¹€ë³‘ì¸, ë°•íƒœí¬, ë°±ì¢…ê·¼, ì´ì§„í˜¸, í™ë™í˜„, ë¥˜ì—°ìˆ˜, ì„ë¦¬ë‚˜

## 2ì£¼ì°¨

### FrontEnd

- cocoaPods
- `MessageKit`
- Program Flow
- MessageKitìœ¼ë¡œ UI êµ¬ì„±
- ë©”ì„¸ì§€ ì‘ì„± í›„ ë³´ë‚´ê¸° í•  ë•Œ, Serverì— í•´ë‹¹ messageì— ëŒ€í•œ ìœ í•´ì„± ê²€ì‚¬
- ê²€ì‚¬ í›„ ë„˜ì–´ì˜¨ dataë¥¼ messageë¡œ ì „ì†¡

### BackEnd

1. ì„œë²„ Flask, Django, Springì¤‘  Flaskë¡œ ì„œë²„ ì„ íƒ
2. Flask ê°œë°œ í™˜ê²½ ì„¤ì •ì„ í–ˆë‹¤.
3. ë©”ì„¸ì§€ë¥¼ ë°›ì„ ë•Œ NLPë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ìš•ì„¤ë¶€ë¶„ë§Œ " * "ë¡œ ë³€í™˜í•œë‹¤.
4. ë³€í™˜í•œ ë©”ì„¸ì§€ë¥¼ Frontë¡œ jsoní˜•ì‹ìœ¼ë¡œ ë³´ë‚¸ë‹¤.

```sudo
pip3 install -r requirements.txt
flask run -h 0.0.0.0 -p 80
```

### ì‹¤í–‰ê²°ê³¼

![1](https://user-images.githubusercontent.com/35067611/90239190-1cd36a00-de62-11ea-865e-eee0983784a4.png)
![2](https://user-images.githubusercontent.com/35067611/90239191-1e049700-de62-11ea-9fb0-89a4f4383d1a.png)
![3](https://user-images.githubusercontent.com/35067611/90239193-1e9d2d80-de62-11ea-8f02-e8f2f0425c1e.gif)  


## 3ì£¼ì°¨

### [ë°ëª¨ì˜ìƒë§í¬ğŸ‘€](https://youtu.be/ub9kPr_HmlQ)



### ê¸°ëŠ¥B ì†Œê°œ ë° ìš”êµ¬ì‚¬í•­

ëª©ì  : ìŒë€ì„± ì´ë¯¸ì§€ë¥¼ ê²€ì—´í•˜ì—¬ ê±´ì „í•œ ì±„íŒ…ë¬¸í™” ì¡°ì„±

ê¸°ëŠ¥: ì‚¬ìš©ìê°€ ì±„íŒ…ì°½ì— ì‚¬ì§„ì„ ë³´ëƒˆì„ ë•Œ ìœ í•´ì„± ê²€ì‚¬ í›„ ìœ í•´í•  ì‹œ blur ì²˜ë¦¬í•˜ì—¬ ì—…ë¡œë“œ, ìœ í•´í•˜ì§€ ì•Šë‹¤ë©´ ë°”ë¡œ ì—…ë¡œë“œ  

### ì²´í¬í¬ì¸íŠ¸

âœ… ê³ ì–‘ì´ ì‚¬ì§„(ìŒë€ì„± ì‚¬ì§„ ëŒ€ì‹  ê³ ì–‘ì´ì‚¬ì§„)ì„ ì±„íŒ…ì°½ì— ë³´ëƒˆì„ ë•Œ blur ì²˜ë¦¬

âœ… ê³ ì–‘ì´ ì‚¬ì§„ì´ ì•„ë‹Œ ì±„íŒ…ì°½ì— ë³´ëƒˆì„ ë•ŒëŠ” ì›ë³¸ì‚¬ì§„ ë³´ì—¬ì£¼ê¸°  

### ì‹¤í–‰í•˜ê¸°

1. ~~~shell
   git clone https://github.com/boostcamp-2020/relay_21.git
   ~~~

2. ~~~shell
   cd relay_21/BE
   ~~~

3. ~~~shell
   pip3 install -r requirements.txt
   ~~~

   - ì´ ë•Œ, ì˜¤ë¥˜ê°€ ë‚˜ëŠ” line ëª¨ë‘ ì§€ìš°ê¸° (ì§€ì›Œë„ ì‹¤í–‰ ë©ë‹ˆë‹¤!)

4. ~~~shell
   vim relay_21/FE/Sources/Extensions/Networkhelper.swift
   ~~~

   - private let baseUrl = ```http://49.50.166.93/hello``` â¡  ```http://0.0.0.0/hello```ë¡œ ë°”ê¿”ì£¼ê¸°

5. ~~~shell
   cd relay_21/BE
   ~~~

6. ~~~shell
   flask run -h 0.0.0.0 -p 80
   ~~~

7. Xcode Run



### API

1. ```UIBlurEffect``` (iOSì—ì„œ ë¸”ëŸ¬ì²˜ë¦¬í•˜ëŠ” API) : https://developer.apple.com/documentation/uikit/uiblureffect
2. Core ML & Vision on iOS (iOS ë¨¸ì‹ ëŸ¬ë‹) ```SqueezeNet```
   - ì„¤ëª… ë¸”ë¡œê·¸ : http://throughkim.kr/2017/09/06/ios-coreml/
   - Core ML Models Download : https://developer.apple.com/machine-learning/models/



### FrontEnd

1. ì‚¬ìš©ìê°€ ì—…ë¡œë“œí•  ì‚¬ì§„ì„ ì„ íƒ

2. ì„ íƒí•œ ì‚¬ì§„ì— ëŒ€í•œ ìœ í•´ì„± íŒë‹¨ (ê³ ì–‘ì´ì¸ì§€ íŒë‹¨)
   - ê³ ì–‘ì´ë¼ê³  íŒë‹¨ë˜ë©´ ë¸”ëŸ¬ì²˜ë¦¬ (Aê¸°ëŠ¥ì˜ ê²½ìš° ìš•ì„¤ íŒë‹¨ì„ ì„œë²„ì—ì„œ í–ˆìœ¼ë‚˜ Bê¸°ëŠ¥ì€ iOS ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ í†µí•´ í”„ë¡ íŠ¸ì—ì„œ í•¨)
3. ì‚¬ì§„ì„ ì±„íŒ…ì°½ì— ë³´ì—¬ì¤Œ



### Backend

2ì£¼ì°¨ì™€ ë™ì¼



### ì‹¤í–‰ê²°ê³¼

![notcatpart](https://user-images.githubusercontent.com/35067611/90238891-a171b880-de61-11ea-837d-7051c3821127.gif)

![catpart](https://user-images.githubusercontent.com/35067611/90238744-6079a400-de61-11ea-85a0-68f36cfcac8f.gif)



### ì°¸ì—¬ì

ì‹ ë³‘ê¸° ì¡°ì¸íƒ ë¬¸ì„±ì£¼ ì„œëª…ë ¬ ìœ ì‹œí˜• ì •ì¬ëª… ê¹€ì„í˜¸ ê¹€ì˜ë ¬ ë°±ì¢…ê·¼ ì„ìˆ˜í˜„ ê°•ë¯¼ì„ ì´íƒœê²½


# [ë¦´í”„] ë²„ë””ë²„ë””

# ğŸ‘‹ğŸ» 4ì£¼ì°¨ - ì˜ˆì¸¡ ëª¨ë¸

---

## ğŸ™ˆ ì°¸ì—¬ì ë° ì—­í•  ë¶„ë‹´

## [CoreML] êµ¬ì„±ì› ğŸ™Š

S020 ë°•íƒœí¬ | S021 ë°±ì¢…ê·¼ | S042 ì´ì§„í˜¸ | S065 í™ë™í˜„ | S015 ë¥˜ì—°ìˆ˜ | S044 ì„ë¦¬ë‚˜ 

## [User Interface] êµ¬ì„±ì› ğŸ™Š

S026 ì†¡ë¯¼ê´€ | S030 ì–‘ì–´ì§„ | S055 ì¡°ìˆ˜ì • |  S053 ì¡°ê¸°í˜„ | S008 ê¹€ë³‘ì¸

---

## ğŸ“Œ ê¸°ëŠ¥ C - ì¶”ì²œ ì„œë¹„ìŠ¤

- ì‚¬ìš©ìì˜ ê´€ì‹¬ì‚¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ, ìœ ì‚¬í•œ ê´€ì‹¬ì‚¬ë¥¼ ì„ ì • í•´ì¤€ë‹¤.
- ìœ ì‚¬í•œ ê´€ì‹¬ì‚¬ë¥¼ ê°€ì§„ ì‚¬ëŒê³¼ ëœë¤ìœ¼ë¡œ ì±„íŒ…ì´ ê°€ëŠ¥í•˜ë‹¤.

## [User Interface]

- User id dataì— ê´€ì‹¬ì‚¬ í•­ëª© ì¶”ê°€
- ì¶”ì²œ ëª©ë¡ ì„œë¹„ìŠ¤ í˜ì´ì§€ ì‘ì„±

<img src = "https://user-images.githubusercontent.com/21030956/90867222-fcf6f580-e3cf-11ea-879d-545094970bf9.png" width = "400">

<img src = "https://user-images.githubusercontent.com/21030956/90867227-fff1e600-e3cf-11ea-966a-2d6ea4837295.png" width = "400">

## [CoreML]

- Hobby CSV íŒŒì¼ì— ê°„ë‹¨í•œ ë°ì´í„° ê°’ì„ ë§Œë“¤ì–´ í•™ìŠµ

    5ê°œì˜ ê´€ì‹¬ì‚¬ë¥¼ ê°€ì§„ 8ëª…ì˜ ë°ì´í„° ê°’ìœ¼ë¡œ í•™ìŠµì„ ì§„í–‰í•¨

    <img width="1512" alt="_2020-08-21__4 13 52" src="https://user-images.githubusercontent.com/21030956/90867444-57905180-e3d0-11ea-8b5a-f565c0a411ea.png">
<img width="1512" alt="_2020-08-21__4 14 12" src="https://user-images.githubusercontent.com/21030956/90867460-5d863280-e3d0-11ea-9f93-a95dc93c36eb.png">
    
Recommendations training
    
    <img width="300" alt="_2020-08-21__4 14 12" src="https://user-images.githubusercontent.com/21030956/90867511-742c8980-e3d0-11ea-8906-54ff92a9e26b.png">
    
    <img width="300" alt="_2020-08-21__4 14 12" src="https://user-images.githubusercontent.com/21030956/90867516-768ee380-e3d0-11ea-8467-82eabb6f7d95.png">
    
    <img width="300" alt="_2020-08-21__4 14 12" src="https://user-images.githubusercontent.com/21030956/90867518-77277a00-e3d0-11ea-848a-9c6064f514f1.png">
    
    <img width="300" alt="_2020-08-21__4 14 12" src="https://user-images.githubusercontent.com/21030956/90867520-77c01080-e3d0-11ea-852c-f2b9d0fbd9ad.png">




- í•™ìŠµì„ ì‹œí‚¨ HobbyRecommendation ML ëª¨ë¸ë¡œ ì‚¬ìš©ìì˜ ê´€ì‹¬ì‚¬ ê°’ì„ ë¶„ì„í•˜ì—¬ ì¶”ì²œ

![Untitled 5](https://user-images.githubusercontent.com/21030956/90867525-7858a700-e3d0-11ea-8ae2-ac8b2798e7f3.png)

ì°¸ê³  ìë£Œ 

[https://heartbeat.fritz.ai/build-a-core-ml-recommender-engine-for-ios-using-create-ml-e8a748d01ba3](https://heartbeat.fritz.ai/build-a-core-ml-recommender-engine-for-ios-using-create-ml-e8a748d01ba3)

## [Database]

- Flaskë¥¼ í™œìš©í•´ signup, favoritesë¥¼ êµ¬í˜„
- DatabaseëŠ” h2 ì‚¬ìš©

```python
@app.route('/signup', methods=['POST'])
def signup():
    data = request.get_json()
    user_id = data.get("userId")
    favorites = data.get("favorites")
    userdata[user_id] = favorites

    return jsonify(data)

@app.route('/favorites', methods = ['GET'])
def favorites():
    user_id = request.args.get('userId',"test")
    # print(userdata[user_id])
    return userdata[user_id]
```
